<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Карта добрых дел</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Подключение Яндекс.Карт API -->
    <script src="https://api-maps.yandex.ru/2.1/?apikey=ВАШ_API_КЛЮЧ&lang=ru_RU"></script>
</head>
<body>

    <header>
        <div class="logo">Карта добрых дел</div>
        <nav>
            <button id="loginBtn">Войти</button>
            <button id="registerBtn">Регистрация</button>
            <button id="logoutBtn" style="display: none;">Выйти</button>
            <span id="userGreeting" style="display: none;"></span>
        </nav>
    </header>

    <main>
        <div class="controls">
            <select id="citySelect">
                <option value="">Выберите город</option>
                <!-- Города будут добавлены скриптом -->
            </select>
            <select id="categorySelect">
                <option value="">Все категории</option>
                <!-- Категории будут добавлены скриптом -->
            </select>
            <input type="text" id="searchInput" placeholder="Поиск по названию...">
            <button id="searchBtn">Найти</button>
            <button id="addNPOBtn" style="display: none;">Добавить НКО</button>
        </div>

        <div id="map" style="width: 100%; height: 70vh;"></div>

        <div id="npoInfo" class="info-panel" style="display: none;">
            <h3 id="npoName"></h3>
            <p id="npoCategory"></p>
            <p id="npoDescription"></p>
            <p id="npoPhone"></p>
            <p id="npoAddress"></p>
            <p id="npoWebsite"></p>
            <div id="npoSocialLinks"></div>
            <img id="npoLogo" src="" alt="Логотип" style="max-width: 100px; max-height: 100px;">
        </div>

        <!-- Модальные окна -->
        <div id="modalOverlay" class="modal-overlay" style="display: none;"></div>
        <div id="authModal" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="close">&times;</span>
                <div id="authFormContainer">
                    <!-- Содержимое формы будет подставляться сюда -->
                </div>
            </div>
        </div>

        <div id="addNPOModal" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Добавить НКО</h2>
                <form id="addNPOForm">
                    <input type="text" id="npoNameInput" placeholder="Название" required><br>
                    <select id="npoCategoryInput" required>
                        <option value="">Выберите категорию</option>
                        <!-- Опции будут заполнены JS -->
                    </select><br>
                    <textarea id="npoDescriptionInput" placeholder="Описание" required></textarea><br>
                    <input type="tel" id="npoPhoneInput" placeholder="Телефон"><br>
                    <input type="text" id="npoAddressInput" placeholder="Адрес"><br>
                    <input type="url" id="npoWebsiteInput" placeholder="Сайт"><br>
                    <input type="text" id="npoSocialLinksInput" placeholder="Ссылки на соцсети (JSON массив)"><br>
                    <input type="text" id="npoCityInput" placeholder="Город" required><br>
                    <input type="number" id="npoLatitudeInput" placeholder="Широта" step="any" required><br>
                    <input type="number" id="npoLongitudeInput" placeholder="Долгота" step="any" required><br>
                    <input type="file" id="npoLogoInput" accept="image/*"><br>
                    <p><small>Рекомендуемый формат: PNG или JPG. Размер: до 500 КБ. Оптимальный размер: 400x400 пикселей.</small></p>
                    <button type="submit">Отправить на модерацию</button>
                </form>
            </div>
        </div>

    </main>

    <footer>
        <p>© 2025 Карта добрых дел. Поддерживается в рамках инициативы Росатом.</p>
    </footer>

    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/main.js"></script>
    <script src="js/map.js"></script>
</body>
</html>